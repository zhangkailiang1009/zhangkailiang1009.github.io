{"version":3,"sources":["webpack:///./src/views/gr.vue?977f","webpack:///./src/views/gr.vue?8722","webpack:///src/views/gr.vue","webpack:///./src/views/gr.vue?74e5","webpack:///./src/views/gr.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","fh","_v","tx","dalist","avatar","username","_s","nickname","mobile","sex","showpop","birthday","style","height","width","model","value","callback","$$v","show","expression","minDate","maxDate","editday","currentDate","province_name","staticRenderFns","name","components","props","data","obj","showa","showb","areaList","Date","code","created","JSON","parse","localStorage","getItem","console","log","res","computed","watch","mounted","methods","$router","push","append","content","setItem","stringify","params","okedit","province_id","city_id","district_id","e","year","month","day","component"],"mappings":"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","file":"js/chunk-ad9baf22.03569716.js","sourcesContent":["export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./gr.vue?vue&type=style&index=0&id=385c2e2a&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"title\"},[_c('span',[_c('van-icon',{staticClass:\"addz\",attrs:{\"name\":\"arrow-left\"},on:{\"click\":_vm.fh}})],1),_vm._v(\"\\n    个人信息\\n  \")]),_c('div',{staticClass:\"zong\"},[_c('div',{staticClass:\"a\"},[_c('span',[_vm._v(\"头像\")]),_c('div',{staticClass:\"aa\"},[_c('van-uploader',{attrs:{\"after-read\":_vm.tx,\"result-type\":\"file\"}},[_c('img',{attrs:{\"width\":\"37px\",\"src\":_vm.dalist.avatar,\"alt\":\"\"}})]),_c('span',[_c('van-icon',{staticClass:\"addy\",attrs:{\"name\":\"arrow\"}})],1)],1)]),_c('div',{staticClass:\"a\",on:{\"click\":_vm.username}},[_c('span',[_vm._v(\"昵称\")]),_c('div',{staticClass:\"aa\"},[_c('span',[_vm._v(_vm._s(_vm.dalist.nickname))]),_c('span',[_c('van-icon',{staticClass:\"addy\",attrs:{\"name\":\"arrow\"}})],1)])]),_c('div',{staticClass:\"a\"},[_c('span',[_vm._v(\"手机号\")]),_c('div',{staticClass:\"aa\"},[_c('span',[_vm._v(_vm._s(_vm.dalist.mobile))]),_c('span',[_c('van-icon',{staticClass:\"addy\",attrs:{\"name\":\"arrow\"}})],1)])]),_c('div',{staticClass:\"a\",on:{\"click\":_vm.sex}},[_c('span',[_vm._v(\"性别\")]),_c('div',{staticClass:\"aa\"},[_c('span',[_vm._v(_vm._s(_vm.dalist.sex == 0 ? \"男\" : \"女\"))]),_c('span',[_c('van-icon',{staticClass:\"addy\",attrs:{\"name\":\"arrow\"}})],1)])]),_c('div',{staticClass:\"a\",on:{\"click\":_vm.showpop}},[_c('span',[_vm._v(\"出生日期\")]),_c('div',{staticClass:\"aa\"},[_c('span',[_vm._v(_vm._s(_vm.dalist.birthday))]),_c('span',[_c('van-icon',{staticClass:\"addy\",attrs:{\"name\":\"arrow\"}})],1)])]),_c('van-popup',{style:({ height: '50%', width: '100%' }),attrs:{\"position\":\"down\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('van-datetime-picker',{attrs:{\"type\":\"date\",\"title\":\"选择年月日\",\"min-date\":_vm.minDate,\"max-date\":_vm.maxDate},on:{\"confirm\":_vm.editday},model:{value:(_vm.currentDate),callback:function ($$v) {_vm.currentDate=$$v},expression:\"currentDate\"}})],1),_c('div',{staticClass:\"a\"},[_c('span',[_vm._v(\"所在城市\")]),_c('div',{staticClass:\"aa\"},[_c('span',[_vm._v(_vm._s(_vm.dalist.province_name))]),_c('span',[_c('van-icon',{staticClass:\"addy\",attrs:{\"name\":\"arrow\"}})],1)])]),_c('div',{staticClass:\"a\"},[_c('span',[_vm._v(\"学科\")]),_c('div',{staticClass:\"aa\"},[_c('span',[_vm._v(\"研究生\")]),_c('span',[_c('van-icon',{staticClass:\"addy\",attrs:{\"name\":\"arrow\"}})],1)])]),_c('div',{staticClass:\"a\"},[_c('span',[_vm._v(\"年级\")]),_c('div',{staticClass:\"aa\"},[_c('span',[_vm._v(\"大学\")]),_c('span',[_c('van-icon',{staticClass:\"addy\",attrs:{\"name\":\"arrow\"}})],1)])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"wrapper\">\r\n    <div class=\"title\">\r\n      <span><van-icon class=\"addz\" name=\"arrow-left\" @click=\"fh\"/></span>\r\n      个人信息\r\n    </div>\r\n    <div class=\"zong\">\r\n      <div class=\"a\">\r\n        <span>头像</span>\r\n        <div class=\"aa\">\r\n          <van-uploader :after-read=\"tx\" result-type=\"file\">\r\n            <img width=\"37px\" :src=\"dalist.avatar\" alt=\"\" />\r\n          </van-uploader>\r\n          <span><van-icon name=\"arrow\" class=\"addy\"/></span>\r\n        </div>\r\n      </div>\r\n      <div class=\"a\" @click=\"username\">\r\n        <span>昵称</span>\r\n        <div class=\"aa\">\r\n          <span>{{ dalist.nickname }}</span>\r\n          <span><van-icon name=\"arrow\" class=\"addy\"/></span>\r\n        </div>\r\n      </div>\r\n      <div class=\"a\">\r\n        <span>手机号</span>\r\n        <div class=\"aa\">\r\n          <span>{{ dalist.mobile }}</span>\r\n          <span><van-icon name=\"arrow\" class=\"addy\"/></span>\r\n        </div>\r\n      </div>\r\n      <div class=\"a\" @click=\"sex\">\r\n        <span>性别</span>\r\n        <div class=\"aa\">\r\n          <span>{{ dalist.sex == 0 ? \"男\" : \"女\" }}</span>\r\n          <span><van-icon name=\"arrow\" class=\"addy\"/></span>\r\n        </div>\r\n      </div>\r\n      <div class=\"a\" @click=\"showpop\">\r\n        <span>出生日期</span>\r\n        <div class=\"aa\">\r\n          <span>{{ dalist.birthday }}</span>\r\n          <span><van-icon name=\"arrow\" class=\"addy\"/></span>\r\n        </div>\r\n      </div>\r\n      <!-- 修改生日弹出层 -->\r\n      <van-popup\r\n        v-model=\"show\"\r\n        position=\"down\"\r\n        :style=\"{ height: '50%', width: '100%' }\"\r\n      >\r\n        <van-datetime-picker\r\n          v-model=\"currentDate\"\r\n          type=\"date\"\r\n          title=\"选择年月日\"\r\n          :min-date=\"minDate\"\r\n          :max-date=\"maxDate\"\r\n          @confirm=\"editday\"\r\n        />\r\n      </van-popup>\r\n\r\n      <div class=\"a\">\r\n        <span>所在城市</span>\r\n        <div class=\"aa\">\r\n          <span>{{ dalist.province_name }}</span>\r\n          <span><van-icon name=\"arrow\" class=\"addy\"/></span>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"a\">\r\n        <span>学科</span>\r\n        <div class=\"aa\">\r\n          <span>研究生</span>\r\n          <span>\r\n            <van-icon name=\"arrow\" class=\"addy\" />\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"a\">\r\n        <span>年级</span>\r\n        <div class=\"aa\">\r\n          <span>大学</span>\r\n          <span><van-icon name=\"arrow\" class=\"addy\"/></span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { grzy, xgtx, xgxx, sheng} from \"../util/http\";\r\nexport default {\r\n  name: \"\",\r\n  components: {},\r\n  props: [],\r\n  data() {\r\n    return {\r\n      data: [],\r\n      obj: [],\r\n      dalist: [],\r\n      showa: false,\r\n      showb: false,\r\n      areaList:[],\r\n      // 修改生日弹出层\r\n      show: false,\r\n      minDate: new Date(2000, 0, 1),\r\n      maxDate: new Date(2020, 10, 1),\r\n      currentDate: new Date(),\r\n      code: [],\r\n    };\r\n  },\r\n  created() {\r\n    this.obj = JSON.parse(localStorage.getItem(\"data\"));\r\n    grzy().then((res) => {\r\n      console.log(res);\r\n      this.dalist = res;\r\n      // for(const i in this.dalist.attr){\r\n      //   console.log(this.dalist.attr[i].attr_value);\r\n      // }\r\n    });\r\n  },\r\n  computed: {},\r\n  watch: {},\r\n  mounted() {},\r\n  methods: {\r\n    fh() {\r\n      this.$router.push(\"person\");\r\n    },\r\n    //换头像\r\n    tx(e) {\r\n      let content = e.file;\r\n      let data = new FormData();\r\n      data.append(\"file\", content);\r\n      xgtx(data).then((res) => {\r\n        console.log(res);\r\n        this.$toast.success(\"修改成功\");\r\n        xgxx({ avatar: res.path }).then((res) => {\r\n          console.log(res);\r\n        });\r\n        this.data.avatar = res.path;\r\n        localStorage.setItem(\"data\", JSON.stringify(this.data));\r\n      });\r\n    },\r\n    //修改名称\r\n    username() {\r\n      this.$router.push({\r\n        name: \"nickname\",\r\n        params: {\r\n          nickname: this.dalist.nickname,\r\n        },\r\n      });\r\n    },\r\n    //点击修改性别\r\n    sex() {\r\n      this.$router.push(\"/sex\");\r\n    },\r\n    //点击弹出\r\n    showpop() {\r\n      this.show = true;\r\n    },\r\n    //确定修改\r\n    okedit() {\r\n      xgxx({\r\n        province_id: this.code[0].code,\r\n        city_id: this.code[1].code,\r\n        district_id: this.code[2].code,\r\n      }).then((res) => {\r\n        console.log(res);\r\n        // 获取用户信息\r\n        this.showa = false;\r\n        grzy().then((res) => {\r\n          this.dalist = res;\r\n        });\r\n      });\r\n    },\r\n    // 修改生日\r\n    editday(e) {\r\n      console.log(e);\r\n      let year = e.getFullYear();\r\n      let month = e.getMonth() + 1;\r\n      let day = e.getDate();\r\n      console.log(year, month, day);\r\n      let data = year + \"-\" + month + \"-\" + day;\r\n      xgxx({ birthday: data }).then((res) => {\r\n        console.log(res);\r\n        this.show = false;\r\n        // 获取用户信息\r\n        grzy().then((res) => {\r\n          this.dataa = res;\r\n        });\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.wrapper {\r\n  background: #eeeeee;\r\n  min-height: 100vh;\r\n}\r\n.title {\r\n  background: white;\r\n  text-align: center;\r\n  line-height: 50px;\r\n  font-size: 20px;\r\n  height: 50px;\r\n  position: relative;\r\n  .addz {\r\n    position: absolute;\r\n    left: 20px;\r\n    top: 18px;\r\n    width: 20px;\r\n  }\r\n}\r\n.zong {\r\n  margin-top: 10px;\r\n  background: white;\r\n  height: 100%;\r\n  > .a {\r\n    color: #8c8c8c;\r\n    box-sizing: border-box;\r\n    padding: 0 10px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    font-size: 14px;\r\n    height: 60px;\r\n    background: white;\r\n    border-bottom: 1px solid #eeeeee;\r\n    .addy {\r\n      border-radius: 50%;\r\n      margin-top: 25px;\r\n      padding: 0px 7px;\r\n      height: 39px;\r\n    }\r\n    .img {\r\n      height: 19px;\r\n    }\r\n    > .aa {\r\n      display: flex;\r\n      align-items: center;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./gr.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./gr.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./gr.vue?vue&type=template&id=385c2e2a&scoped=true&\"\nimport script from \"./gr.vue?vue&type=script&lang=js&\"\nexport * from \"./gr.vue?vue&type=script&lang=js&\"\nimport style0 from \"./gr.vue?vue&type=style&index=0&id=385c2e2a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"385c2e2a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}